# Vocalis Studio - UI設計仕様書

## 1. 概要

### 1.1 目的
本書は、Vocalis StudioアプリのUI/UXを改善し、より使いやすく魅力的なインターフェースを実現するための設計仕様を定義する。

### 1.2 設計原則
- **シンプルさ**: 初心者でも迷わない直感的な操作
- **視認性**: 練習中でも見やすい情報表示
- **フィードバック**: ユーザーアクションへの適切な応答
- **一貫性**: 統一されたデザイン言語の採用
- **アクセシビリティ**: 多様なユーザーに配慮した設計

## 2. 現状の問題点と改善提案

### 2.1 現在のUI実装の問題点

#### RecordingView（メイン録音画面）
1. **視覚的訴求力の不足**
   - 黒背景に白テキストのみでモノトーン
   - ボイストレーニングアプリとしての楽しさが伝わらない

2. **情報階層の不明確さ**
   - 状態表示と操作ボタンの区別が曖昧
   - カウントダウン時の数字が大きすぎる（120pt）

3. **操作フィードバックの不足**
   - 録音中のプログレスバーが小さい
   - スケール再生状態が視覚的にわからない

4. **ナビゲーションの分かりにくさ**
   - 録音リストボタンが右上に小さく配置
   - 重要度の割に目立たない

#### RecordingListView（録音リスト画面）
1. **情報密度の低さ**
   - 各録音項目の情報が少ない（日時と長さのみ）
   - スケール設定情報が表示されない

2. **視覚的単調さ**
   - リスト表示が単調
   - 録音の重要度や練習成果が分からない

3. **操作性の問題**
   - 削除確認が煩雑
   - 複数選択や一括操作ができない

### 2.2 改善提案

#### 全体的な改善方針
1. **カラーテーマの導入**
   - アプリのブランドカラー設定
   - 状態に応じた色分け
   - ダークモード/ライトモード対応

2. **アニメーションの活用**
   - スムーズな画面遷移
   - 状態変化の視覚的表現
   - マイクロインタラクション

3. **情報の可視化**
   - 練習進捗の視覚化
   - スケール設定の図示
   - 録音波形の表示

## 3. デザインシステム

### 3.1 カラーパレット

#### プライマリカラー
```
主要色: #6C5CE7（パープル）- 創造性と音楽を表現
補助色: #00CEC9（ティール）- 成長と進歩を表現
```

#### セマンティックカラー
```
録音中: #EE5A6F（レッド）- 録音アクティブ状態
再生中: #00B894（グリーン）- 再生アクティブ状態
待機中: #B2BEC3（グレー）- 非アクティブ状態
成功: #00D2D3（シアン）- 成功メッセージ
警告: #FDCB6E（イエロー）- 警告メッセージ
エラー: #FF6B6B（レッド）- エラーメッセージ
```

#### 背景色
```
ライトモード:
- Primary: #FFFFFF
- Secondary: #F5F7FA
- Tertiary: #E9ECEF

ダークモード:
- Primary: #1A1D24
- Secondary: #2C2F36
- Tertiary: #3E4148
```

### 3.2 タイポグラフィ

#### フォントファミリー
```
見出し: SF Pro Display（システムフォント）
本文: SF Pro Text（システムフォント）
数値: SF Pro Rounded（丸みのある数字表示）
```

#### フォントサイズ
```
特大見出し: 34pt（Bold）
大見出し: 28pt（Semibold）
中見出し: 22pt（Semibold）
小見出し: 17pt（Semibold）
本文: 15pt（Regular）
キャプション: 13pt（Regular）
極小: 11pt（Regular）
```

### 3.3 スペーシング
```
極小: 4pt
小: 8pt
標準: 16pt
大: 24pt
特大: 32pt
巨大: 48pt
```

### 3.4 コーナー半径
```
小: 4pt（ボタン内要素）
標準: 8pt（小ボタン）
大: 12pt（カード、大ボタン）
特大: 16pt（モーダル）
完全円: 50%（アイコンボタン）
```

## 4. 画面別詳細設計

### 4.1 RecordingView（メイン録音画面）

#### 4.1.1 レイアウト構成
```
┌─────────────────────────────┐
│  ステータスバー              │
├─────────────────────────────┤
│  ナビゲーションバー          │
│  [設定] Vocalis Studio [リスト]│
├─────────────────────────────┤
│                             │
│     スケール視覚表示         │
│     ♪ ド レ ミ ファ ソ ♪     │
│                             │
├─────────────────────────────┤
│                             │
│     状態表示エリア           │
│    (波形/カウント/メッセージ) │
│                             │
├─────────────────────────────┤
│                             │
│     メインアクション         │
│      [録音開始ボタン]        │
│                             │
│     サブアクション           │
│    [再生] [設定変更]         │
│                             │
└─────────────────────────────┘
```

#### 4.1.2 状態別表示

##### 待機状態（Idle）
- **背景**: グラデーション（上: #6C5CE7, 下: #5F4CE0）
- **メッセージ**: 「練習を始めましょう」
- **ボタン**:
  - 録音開始: 大きな円形ボタン（直径80pt）
  - アイコン: マイクアイコン（白）
  - 背景色: #EE5A6F
  - タップ時: スケール0.95のアニメーション

##### カウントダウン状態
- **背景**: パルスアニメーション（明度変化）
- **カウント表示**:
  - フォント: SF Pro Rounded 60pt
  - 色: 白
  - アニメーション: フェードイン・スケール1.2→1.0
- **メッセージ**: 「準備してください」
- **キャンセルボタン**: 下部に表示

##### 録音状態
- **背景**: 録音インジケーター（赤い波形アニメーション）
- **波形表示**: リアルタイム音声波形
- **プログレスリング**: 円形プログレス（録音時間）
- **スケール再生表示**:
  - 現在の音をハイライト
  - 音符アニメーション

#### 4.1.3 スケール設定表示
```
┌──────────────────────────┐
│   ♪ 5トーンスケール       │
│  ┌─┬─┬─┬─┬─┐            │
│  │C│D│E│F│G│            │
│  └─┴─┴─┴─┴─┘            │
│  BPM: 120  Duration: 2秒  │
└──────────────────────────┘
```

### 4.2 RecordingListView（録音リスト画面）

#### 4.2.1 レイアウト構成
```
┌─────────────────────────────┐
│  録音リスト                  │
│  [閉じる]          [編集]    │
├─────────────────────────────┤
│  統計サマリー                │
│  総録音: 24  今週: 5         │
├─────────────────────────────┤
│  ┌─────────────────────┐   │
│  │ 録音カード #1        │   │
│  │ [再生] 10/14 15:30  │   │
│  │ C-D-E-F-G  2:30     │   │
│  │ ★★★☆☆              │   │
│  └─────────────────────┘   │
│  ┌─────────────────────┐   │
│  │ 録音カード #2        │   │
│  └─────────────────────┘   │
└─────────────────────────────┘
```

#### 4.2.2 録音カードデザイン
- **カード背景**: 白（ライト）/#2C2F36（ダーク）
- **影**: 0 2px 8px rgba(0,0,0,0.1)
- **コーナー半径**: 12pt
- **パディング**: 16pt
- **情報表示**:
  - 日時: 見出しフォント
  - スケール設定: 視覚的音符表示
  - 録音時間: アイコン付き
  - 自己評価: 5段階スター

#### 4.2.3 インタラクション
- **スワイプジェスチャー**:
  - 右スワイプ: お気に入り追加
  - 左スワイプ: 削除オプション表示
- **長押し**: 複数選択モード
- **タップ**: 再生/停止トグル

### 4.3 設定画面（新規追加）

#### 4.3.1 設定項目
```
┌─────────────────────────────┐
│  設定                        │
├─────────────────────────────┤
│  スケール設定                │
│  ├ 音階パターン              │
│  ├ テンポ（BPM）             │
│  ├ 音の長さ                  │
│  └ カウントダウン時間        │
├─────────────────────────────┤
│  録音設定                    │
│  ├ 録音品質                  │
│  └ 自動停止時間              │
├─────────────────────────────┤
│  表示設定                    │
│  ├ テーマ（ライト/ダーク）   │
│  └ 波形表示                  │
├─────────────────────────────┤
│  その他                      │
│  ├ 使い方                    │
│  └ バージョン情報            │
└─────────────────────────────┘
```

## 5. アニメーション仕様

### 5.1 画面遷移
- **デフォルト**: スライド（0.3秒、イージング）
- **モーダル**: 下からスライドアップ（0.25秒）
- **ポップアップ**: フェード＋スケール（0.2秒）

### 5.2 ボタンインタラクション
- **タップ**: スケール0.95（0.1秒）
- **ホールド**: 背景色を10%暗く
- **無効状態**: 不透明度50%

### 5.3 録音アニメーション
- **波形**: リアルタイム描画（60fps）
- **レベルメーター**: スムーズ遷移（0.1秒）
- **録音インジケーター**: パルス（1秒周期）

### 5.4 スケール再生アニメーション
- **音符ハイライト**:
  - スケール: 1.0→1.2→1.0
  - 色変化: 通常→アクセント色
  - 時間: 音の長さに同期
- **プログレスバー**: 音の進行に合わせて移動

## 6. レスポンシブ対応

### 6.1 デバイスサイズ対応
```
iPhone SE (4.7"): コンパクトレイアウト
iPhone 14 (6.1"): 標準レイアウト
iPhone 14 Pro Max (6.7"): 拡張レイアウト
iPad: タブレット最適化レイアウト
```

### 6.2 オリエンテーション
- **縦向き**: 標準レイアウト
- **横向き**:
  - 録音画面: 波形を横長表示
  - リスト画面: 2カラムグリッド

## 7. アクセシビリティ

### 7.1 VoiceOver対応
- 全ボタンに適切なラベル設定
- 状態変化の音声通知
- ジェスチャーヒント提供

### 7.2 Dynamic Type
- システム設定に応じたテキストサイズ
- 最小: 11pt、最大: アクセシビリティ特大

### 7.3 カラーコントラスト
- WCAG AA準拠（最小比率4.5:1）
- 重要な情報は色だけでなく形状でも区別

## 8. エラー処理とフィードバック

### 8.1 エラー表示
- **トースト通知**: 一時的なエラー
- **アラート**: 重要なエラー
- **インライン**: フォーム検証エラー

### 8.2 成功フィードバック
- **ハプティック**: 軽い振動フィードバック
- **サウンド**: 成功音（オプション）
- **ビジュアル**: チェックマークアニメーション

## 9. パフォーマンス指標

### 9.1 レスポンス目標
- タップ反応: < 100ms
- 画面遷移: < 300ms
- データ読み込み: < 1秒
- 初回起動: < 2秒

### 9.2 アニメーション
- 60fps維持
- GPU活用による滑らかな描画
- 必要に応じた簡略化モード

## 10. 実装優先順位

### Phase 1（必須）
1. カラーテーマ適用
2. メイン録音ボタンの改善
3. 基本的なアニメーション

### Phase 2（推奨）
1. 波形表示
2. スケール視覚化
3. 録音カードデザイン

### Phase 3（オプション）
1. 高度なアニメーション
2. ジェスチャー操作
3. カスタマイズ機能

## 11. 技術的考慮事項

### 11.1 SwiftUI実装
- `@StateObject`による状態管理
- `withAnimation`による滑らかな遷移
- カスタム`ViewModifier`の活用

### 11.2 パフォーマンス最適化
- 遅延読み込み（LazyVStack）
- 画像キャッシュ
- バックグラウンドタスクの適切な管理

### 11.3 テスト方針
- UIテストによる主要フローの検証
- スナップショットテストによる表示確認
- アクセシビリティ監査の実施

## 12. 参考デザイン

### 12.1 競合アプリ分析
- Vanido: ミニマルで洗練されたUI
- Voloco: カラフルで楽しい雰囲気
- Smule: ソーシャル要素の統合

### 12.2 デザインパターン
- Material Design 3のカード表現
- iOS Human Interface Guidelinesの準拠
- 音楽アプリの標準的なUI要素

## 13. 今後の拡張

### 13.1 将来的な機能追加
- ピッチ検出と視覚化
- 録音の比較機能
- 練習スケジュール機能
- ソーシャル共有

### 13.2 デザインシステムの進化
- コンポーネントライブラリ化
- デザイントークンの管理
- ブランドガイドライン策定

## 付録A: カラーコード一覧

| 用途 | ライトモード | ダークモード |
|------|------------|------------|
| 背景 | #FFFFFF | #1A1D24 |
| テキスト（主） | #2D3436 | #FFFFFF |
| テキスト（副） | #636E72 | #B2BEC3 |
| プライマリ | #6C5CE7 | #6C5CE7 |
| 録音 | #EE5A6F | #FF6B7A |
| 再生 | #00B894 | #00CEC9 |
| 成功 | #00D2D3 | #00E5E5 |
| 警告 | #FDCB6E | #FFD93D |
| エラー | #FF6B6B | #FF7979 |

## 付録B: アイコン仕様

| 機能 | SF Symbol | サイズ | 色 |
|------|-----------|--------|-----|
| 録音 | mic.fill | 28pt | 白 |
| 停止 | stop.fill | 24pt | 白 |
| 再生 | play.fill | 24pt | プライマリ |
| 一時停止 | pause.fill | 24pt | プライマリ |
| リスト | list.bullet | 22pt | 白 |
| 設定 | gearshape | 22pt | 白 |
| 削除 | trash | 20pt | エラー |
| お気に入り | star.fill | 20pt | 警告 |

## 更新履歴

| 日付 | バージョン | 変更内容 |
|------|-----------|----------|
| 2025-10-15 | 1.0 | 初版作成 |